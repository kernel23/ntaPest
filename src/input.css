@import "tailwindcss";

/* Base styles from original inline style block */
.screen { display: none; }
.screen.active { display: flex; }
body { font-family: 'Inter', sans-serif; }
#map { height: 400px; }
#report-map { height: 200px; margin-bottom: 1.5rem; }
#pest-cards-container { perspective: 1000px; }
.pest-card {
    width: 180px;
    height: 220px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.5s, z-index 0.5s;
    cursor: pointer;
    animation: float 6s ease-in-out infinite;
}
.pest-card:hover {
    transform: translateY(-10px) scale(1.1);
    z-index: 10;
    animation-play-state: paused;
}
@keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0px); }
}

/* Mobile-first sidebar styles */
#sidebar {
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    position: fixed;
    height: 100vh;
    z-index: 40;
}

#sidebar.show {
    transform: translateX(0);
}

/* Sidebar overlay for mobile */
#sidebar-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 30;
    display: none;
}

#sidebar-overlay.show {
    display: block;
}

/* Desktop-specific styles */
@media (min-width: 768px) {
    #sidebar {
        transform: translateX(0);
        position: absolute;
    }
    #screen-container.with-sidebar {
        margin-left: 4rem; /* ml-16 */
    }
}

/* Floating Action Button adjustments */
#add-farm-btn {
    bottom: 5rem; /* Lift above bottom nav on mobile */
}

@media (min-width: 768px) {
    #add-farm-btn {
        bottom: 1.5rem; /* Revert to original position on desktop */
    }
}

/* Collapsible filter styles */
.filter-content {
    max-height: 1000px;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out, opacity 0.3s ease-in-out, padding 0.3s ease-in-out, margin 0.3s ease-in-out;
    opacity: 1;
}

.filter-content.collapsed {
    max-height: 0;
    opacity: 0;
    margin-top: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    border-top-width: 0 !important;
}

.rotate-180 {
    transform: rotate(180deg);
    transition: transform 0.3s ease-in-out;
}

/* Role-based layout forcing */

/* --- Force Mobile View on Desktop --- */
@media (min-width: 768px) {
    body.force-mobile-view #hamburger-btn {
        display: block !important;
    }
    body.force-mobile-view #bottom-nav {
        display: flex !important;
    }
    body.force-mobile-view #sidebar {
        transform: translateX(-100%) !important;
    }
    body.force-mobile-view #sidebar.show {
        transform: translateX(0) !important;
    }
    body.force-mobile-view #screen-container.with-sidebar {
        margin-left: 0 !important;
    }
}

/* --- Force Desktop View on Mobile --- */
@media (max-width: 767px) {
    body.force-desktop-view #hamburger-btn {
        display: none !important;
    }
    body.force-desktop-view #bottom-nav {
        display: none !important;
    }
    body.force-desktop-view #sidebar {
        transform: translateX(0) !important;
        position: absolute !important;
    }
    body.force-desktop-view #screen-container.with-sidebar {
        margin-left: 4rem !important;
    }
}
